  <div class="board-container" style="margin-bottom:10px;">
    <div class="board-name-wrapper">
      <div class="board-name">
        <%= @board.name %> <span class="board-function-hamburger">
        <i class="fa fa-bars" aria-hidden="true"></i></span>
      </div>

<!-- <div class="board-function-bar"> -->

        <div class="board-private-message">
          <%="( public )" if @board.marked_private == nil  %>
          <%="( private )" if @board.marked_private == true  %>
          <%="( public )" if @board.marked_private == false  %>
        </div>

<div class="board-function-bar">

        <div>
            <% if @board.user_id == session[:user_id] %>
              <div class="design-board-btn-wrapper">
                <%= button_to cart_items_add_entire_board_path(:board_id => @board.id, :fabric_type => @board.fabric_type), :method => :post, class: "design-board-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" do %>
                  <i class="fa fa-plus" aria-hidden="true"></i> CART
                <% end %>
              </div>
              <div class="design-board-btn-wrapper">
                <%= button_to "CLONE", boards_clone_board_path(:board_id => @board.id), :method => :post, class: "design-board-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" %>
              </div>
            <% elsif session[:user_id] == nil %>
            <% elsif session[:user_id] != nil %>
              <div class="design-board-btn-wrapper">
                <%= button_to cart_items_add_entire_board_path(:board_id => @board.id, :fabric_type => @board.fabric_type), :method => :post, class: "design-board-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" do %>
                  <i class="fa fa-plus" aria-hidden="true"></i> CART
                <% end %>
              </div>
              <div class="design-board-btn-wrapper">
                <%= button_to "CLONE", boards_clone_board_path(:board_id => @board.id), :method => :post, class: "design-board-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" %></div>
            <% else %>
            <% end %>
      </div>

      <div>
          <% if @board.user_id == session[:user_id] %>
            <%= form_for(@board, remote: true) do |f| %>
              <% if @board.errors.any? %>
                <div id="error_explanation">
                  <h2><%= pluralize(@board.errors.count, "error") %> prohibited this board from being saved:</h2>
                  <ul>
                  <% @board.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                  <% end %>
                  </ul>
                </div>
              <% end %>
            </div>

<!-- <div class="board-function-bar"> -->

            <ul class="board-function-bar-items">
              <li class="">
                <!-- <%= f.label :name  %>  -->
                Name <%= f.text_field :name %> &nbsp; | &nbsp;
              </li>
              <li class="">
                <%= f.hidden_field :user_id, value: session[:user_id] %>
              </li>
              <li class="">
                <!-- <%= f.label :marked_private %>  -->
                <%= f.check_box :marked_private %> Private &nbsp; | &nbsp;
              </li>
              <li class="">
                <!-- <%= f.label :fabric_type  %>  -->
                Fabric <%= f.select :fabric_type, @fabric_type_options %>
              </li>
              <li class="">
                <%= button_to "", type: 'submit', method: :get, class: "board-show-update-btn mdl-button mdl-js-button mdl-button--icon" do %>
                  <i class="fa fa-refresh" aria-hidden="true"></i>
                <% end %>
              </li>

            <% end %>
          <% end %>
        </ul>
<!-- ================== -->
      </div> <!-- end of borad-function-bar -->

    </div> <!-- end of borad-function-wrapper -->

<!-- ========= -->
<div class="gridster">
    <ul>
<!-- ========= -->

    <% @feature_display.each do |design|%>
<li class="board-card" data-row="1" data-col="1" data-sizex="1" data-sizey="1">
        <script async defer data-pin-hover="true" data-pin-round="true" src="//assets.pinterest.com/js/pinit.js"></script>
        <img class="design-thumbnail" src="<%= design.third %>">
        <!-- <div class="board-card-design-id">Design ID: <%= design.first %>, &nbsp; Board ID: <%= design[3] %></div> -->
        <div class="board-card-design-name-wrapper">Name: <a href = "https://spoonflower.com/fabric/<%= design.first %>", target="_blank"><span class="board-card-design-name"><%= design.second %></span></a></div>

        <% if @board.user_id == session[:user_id] %>
          <div class="board-card-design-btn-wrapper"><%= button_to "Remove", design_path(:design_id => design[3]), :method => :delete, class: "design-board-btn remove", remote: true %></div> &nbsp;
          <div class="board-card-design-btn-wrapper"><%= button_to "Add to Cart", cart_items_add_to_cart_path(:design_id => design[3],:fabric_type => @board.fabric_type), :method => :post, class: "design-board-btn" %></div>
        <% end %>
        <div class="board-card-design-dropdown-wrapper">
          <% if session[:user_id] != nil %>
            <%= form_tag({controller: "designs", action: "create"}, remote: true) do %>
            <%= label_tag(:board_id, "Board:") %> <br>
            <%= select_tag "design[board_id]", options_for_select(@boards.collect{ |u| [u.name, u.id] })%> &nbsp;
            <%= submit_tag("Add") %>
            <%= hidden_field_tag "design[spoonflower_id]",design.first %>
            <% end %>
          <% end %>
        </div>

    <!-- </div> -->

</li>

    <% end %>
<!-- ========= -->
  </ul>
</div>  <!-- end of gridster -->
<!-- ========= -->
  </div>

  <script async defer src="//assets.pinterest.com/js/pinit.js"></script>
  <script>

    $(bindDeleteDesign);

    // format design name string
    $(".board-card-design-name").each(function(){
      $(this).html(truncate($(this).html()));
    });

    // is function bar visisble
    var boardFunctionVisible = false;
    /*
    * event hanldler for board funciton 'Hamburger' - toggle visibility
    */
    $(".board-function-hamburger").on("click", function() {
      console.log("** board hamburger click **");
      if (boardFunctionVisible) {
        $(".board-function-bar").slideUp(300);
        boardFunctionVisible = false;
      }
      else {
        $(".board-function-bar").slideDown(300);
        boardFunctionVisible = true;
      }
    });

    //  initialize drag & drop
    $(".gridster ul").gridster({
      widget_margins: [5, 5],
      widget_base_dimensions: [200, 290]
    });

  </script>
  <script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script>
